function GetConvertedPrice(e){var t="undefined"!=typeof wp_travel&&void 0!==wp_travel.conversion_rate?wp_travel.conversion_rate:1,a="undefined"!=typeof wp_travel&&void 0!==wp_travel.number_of_decimals?wp_travel.number_of_decimals:2,t=parseFloat(t).toFixed(2);return parseFloat(e*t).toFixed(a)}document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){document.querySelectorAll(".woocommerce-order-received header, .woocommerce-order-received footer, .woocommerce-order-received #wpadminbar, .woocommerce-order-received main div").forEach(function(e){e.style.visibility="visible"})},1e3);const s=document.getElementById("wp-travel-woo-checkout-frame");if(s){const e=()=>{try{var e=s.contentDocument||s.contentWindow.document,t=s.contentWindow;if(e&&e.body){var a=e.createElement("style"),i=(a.id="custom-iframe-style",a.textContent=`
                .woocommerce-checkout.woocommerce-page #wpadminbar,
                .woocommerce-checkout.woocommerce-page footer,
                .woocommerce-checkout.woocommerce-page header,
                .woo-onpage-enable #wpadminbar,
                .woo-onpage-enable footer,
                .woo-onpage-enable header {
                    display: none !important;
                }
                .woocommerce-order-received main div {
                    visibility: hidden !important;
                }
                .woo-onpage-enable #newBookingDetails br {
                    display: none !important;
                }
                .woo-onpage-enable #newBookingDetails td a {
                    white-space: normal;
                    word-break: break-word;
                    display: inline-block;
                }
            `,e.head.appendChild(a),t.location.href);if(i.includes("/order-received/")){var r=e.querySelector("main");if(r){r.innerHTML=`
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" width="200" height="200" style="shape-rendering: auto; display: block; background: transparent; margin-top: 10%;" xmlns:xlink="http://www.w3.org/1999/xlink">
							<g>
								<circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="10" stroke="#008600" fill="none" cy="50" cx="50">
									<animateTransform keyTimes="0;1" values="0 50 50;360 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform>
								</circle>
							</g>
						</svg>
					`;var l=i.match(/\/order-received\/(\d+)\//);if(l&&l[1]){var n=parseInt(l[1])+1;const o=new URL(wp_travel.thankyouPageUrl);o.searchParams.set("order_id",n),setTimeout(()=>{window.location.href=o.toString()},1e3)}}}}else console.warn("Iframe content not accessible yet.")}catch(e){console.warn("Iframe access failed:",e)}};s.addEventListener("load",()=>{setTimeout(e,150)})}}),jQuery(function(l){function n(e){for(var t,a=null,i=location.search.substr(1).split("&"),r=0;r<i.length;r++)(t=i[r].split("="))[0]===e&&(a=decodeURIComponent(t[1]));return a}l(".g-recaptcha-response").attr("required",!0),l(document).on("click",".showcoupon",function(e){e.preventDefault(),l(".woocommerce-form-coupon").slideToggle()}),l(document).ready(function(){var e=[],t=0,a=0,i=0,r=0;0<(e="object"==typeof wp_travel.prices?wp_travel.prices.map(function(e){return parseInt(e,10)}):e).length&&(t=Math.min.apply(null,e),a=Math.max.apply(null,e),t=parseInt(GetConvertedPrice(t)),a=parseInt(GetConvertedPrice(a))),i=n("min_price")?n("min_price"):t,r=n("max_price")?n("max_price"):a,l(".wp-travel-range-slider").slider({range:!0,min:t,max:a,values:[i,r],slide:function(e,t){l(".price-amount").val(wp_travel.currency_symbol+t.values[0]+" - "+wp_travel.currency_symbol+t.values[1]),l(".wp-travel-range-slider").siblings(".wp-travel-filter-price-min").val(t.values[0]),l(".wp-travel-range-slider").siblings(".wp-travel-filter-price-max").val(t.values[1])}}),l(".price-amount").val(wp_travel.currency_symbol+l(".wp-travel-range-slider").slider("values",0)+" - "+wp_travel.currency_symbol+l(".wp-travel-range-slider").slider("values",1))}),l(".wp-travel-filter-submit-shortcode").on("click",function(){l(this).siblings(".wp-travel-filter-view-mode").data("mode");var e=(e=l(this).siblings(".wp-travel-filter-archive-url").val())||window.location.pathname,a=(query_string="",window.location.search&&(query_string=window.location.search),new URL(e+query_string)),i=a.searchParams,e=l(this).siblings(".wptravel_filter-data-index").data("index"),e=(l(".wp_travel_search_filters_input"+e).each(function(){var e=l(this).attr("name"),t=l(this).val();i.set(e,t),a.search=i.toString()}),a.toString());window.location=e}),l(".wp-travel-filter-search-submit").on("click",function(){l(this).siblings(".wp-travel-widget-filter-view-mode").data("mode");var e=(e=l(this).siblings(".wp-travel-widget-filter-archive-url").val())||window.location.pathname,a=(query_string="",new URL(e+query_string)),i=a.searchParams,e=l(this).siblings(".filter-data-index").data("index"),e=(l(".wp_travel_search_widget_filters_input"+e).each(function(){var e=l(this).attr("name"),t=l(this).val();i.set(e,t),a.search=i.toString()}),a.toString());window.location=e});l("body").off("submit","#wp-travel-enquiries"),l("#wp-travel-enquiries").submit(function(e){e.preventDefault(),l(".enquiry-response").remove();var e=l("#wp-travel-enquiries").serializeArray(),t=(e.push({name:"nonce",value:wp_travel.nonce}),l("#wp_travel_label_processing").val()),a=l("#wp_travel_label_submit_enquiry").val();l.ajax({type:"POST",url:wp_travel.ajaxUrl,data:e,beforeSend:function(){l("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(t).attr("disabled","disabled")},success:function(e){var t;return 0==e.success?(t='<span class="enquiry-response enquiry-error-msg">'+e.data.message+"</span>",l("#wp-travel-enquiries").append(t)):1==e.success&&(t='<span class="enquiry-response enquiry-success-msg">'+e.data.message+"</span>",l("#wp-travel-enquiries").append(t),setTimeout(function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close"),l("#wp-travel-enquiries .enquiry-response ").hide()},"3000")),l("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(a).removeAttr("disabled","disabled"),l("#wp-travel-enquiry-name").val(""),l("#wp-travel-enquiry-email").val(""),l("#wp-travel-enquiry-query").val(""),!1}}),l("#wp-travel-enquiries").trigger("reset")}),l(document).on("click",".btn-wptravel-filter-by-shortcodes-itinerary",function(){var e=l(this).parent(".wp-travel-filter-by-heading");e&&e.siblings(".wp-toolbar-filter-field")&&(e.siblings(".wp-toolbar-filter-field, .wp-travel-filter-button").toggleClass("show-in-mobile"),e.siblings(".wp-toolbar-filter-field").hasClass("show-in-mobile")?l(this).addClass("active"):l(this).removeClass("active"))}),l(document).on("click",".edit-trip a",function(){l(".checkout-trip-extras").css("display","none")}),l(document).on("click",".edit-pax-selector-qty",function(){l(this).parent().find(".wp-trave-pax-selected-frontend-second").val()>=l(this).attr("data-minpax")&&l(".wp-travel-book").removeClass("btn-disable");var e=document.getElementsByClassName("edit-pax-"+l(this).attr("data-cart")),t=document.getElementsByClassName("wp-trave-pax-selected-frontend-second");if(0<document.getElementsByClassName("wptravel-recurring-dates").length&&(t=document.querySelectorAll(".wp-travel-active-date .wp-trave-pax-selected-frontend-second")),1==l(this).attr("data-allpricing")){if($flag=1,0<e.length){for(var a=0;a<e.length;a++)parseFloat(e[a].value)<l(this).attr("data-minpax")&&($flag=0);0==$flag?l(".cart-edit-"+l(this).attr("data-cart")).addClass("btn-disable"):l(".cart-edit-"+l(this).attr("data-cart")).removeClass("btn-disable")}if(0<t.length){for(a=0;a<t.length;a++)parseFloat(t[a].value)<l(this).attr("data-minpax")&&($flag=0);0==$flag?l(".wp-travel-book").addClass("btn-disable"):l(".wp-travel-book").removeClass("btn-disable")}}else{var i=0;if(0<e.length)for(a=0;a<e.length;a++)parseFloat(e[a].value)&&(i+=parseFloat(e[a].value));if(0<t.length)for(a=0;a<t.length;a++)parseFloat(t[a].value)&&(i+=parseFloat(t[a].value));i>=l(this).attr("data-minpax")?(l(".wp-travel-book").removeClass("btn-disable"),l(".cart-edit-"+l(this).attr("data-cart")).removeClass("btn-disable")):(l(".wp-travel-book").addClass("btn-disable"),l(".cart-edit-"+l(this).attr("data-cart")).addClass("btn-disable"))}})}),jQuery(function(a){a(".wp-travel-itinerary-items").keypress(e=>{13===e.which&&a("#wp-travel-filter-search-submit").click()}),a(document).on("click",".datepicker--cell-day:not(.-disabled-)",function(e){a(".datepicker").css("left","-100000px"),a(".datepicker").removeClass("active")}),a(document).on("click",".open-quick-view-modal",function(e){e.preventDefault(),a(this).siblings(".wp-travel-quick-view-modal").show(),a(".modal-overlay").show()}),a(document).on("click",".close-modal",function(e){e.preventDefault(),a(this).closest(".wp-travel-quick-view-modal").hide(),a(".modal-overlay").hide()}),a(document).on("click",".modal-overlay",function(e){e.preventDefault(),a(".wp-travel-quick-view-modal").hide(),a(".modal-overlay").hide()}),a(".wp-travel-quick-view #overview").show(),a(".wp-travel-quick-view ul.tab-list li").addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").addClass("resp-tab-content-active"),a(document).on("click",".wp-travel-quick-view ul.tab-list .overview",function(e){e.preventDefault(),a(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),a(this).addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").hide(),a(".wp-travel-quick-view #overview").show()}),a(document).on("click",".wp-travel-quick-view ul.tab-list .trip_outline",function(e){e.preventDefault(),a(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),a(this).addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").hide(),a(".wp-travel-quick-view #trip_outline").show()}),a(document).on("click",".wp-travel-quick-view ul.tab-list .trip_includes",function(e){e.preventDefault(),a(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),a(this).addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").hide(),a(".wp-travel-quick-view #trip_includes").show()}),a(document).on("click",".wp-travel-quick-view ul.tab-list .trip_excludes",function(e){e.preventDefault(),a(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),a(this).addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").hide(),a(".wp-travel-quick-view #trip_excludes").show()}),a(document).on("click",".wp-travel-quick-view ul.tab-list .gallery",function(e){e.preventDefault(),a(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),a(this).addClass("resp-tab-active"),a(".wp-travel-quick-view .tab-list-content").hide(),a(".wp-travel-quick-view #gallery").show()}),a(document).on("click",".custom-link-enable input",function(e){var t;a(this).is(":checked")&&(t=a(this).data("url"),a("button.wp-travel-book").attr("data-url",t),a("button.wp-travel-book").addClass("custom-booking-link"))}),a(document).on("click",".wp-travel-book.custom-booking-link",function(e){var t=a(this).data("url");t&&window.open(t,"_blank")})});